<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="div1">
    <p><b>Hello</b> world!</p>
    <ul>
        <li>List item 1</li>
        <li>List item 2</li>
        <li>List item 3</li>
    </ul>
</div>
<script>
    var div=document.getElementById("div1");
    (function (){
        try {
            var filter=function(node){
                return node.tagName.toLocaleLowerCase() === "li"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;
            };
            var iterator=document.createNodeIterator(div,NodeFilter.SHOW_ELEMENT,filter,false);
            var node=iterator.nextNode();
            while (node !== null){
                console.log(node.tagName);
                node=iterator.nextNode();
            }
        }catch (e){
            console.log(e);
        }
    })();
    (function (){
        try {
            var filter=function(node){
//                return node.tagName.toLocaleLowerCase() === "li"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT;
                return node.tagName.toLocaleLowerCase() === "li"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP;
            };
            var treeWalker=document.createTreeWalker(div,NodeFilter.SHOW_ELEMENT,filter,false);
            var node=treeWalker.nextNode();
            while (node !== null){
                console.log(node.tagName);
                node=treeWalker.nextNode();
            }
            console.log(treeWalker.currentNode);
        }catch (e){
            console.log(e);
        }
    })()
</script>
</body>
</html>